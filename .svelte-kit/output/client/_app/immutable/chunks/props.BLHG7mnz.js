import{x as K,A as P,R as M,E as Z,T as V,V as z,W,X as q,Y as B,y as w,Z as O,B as $,U as X,_ as J,O as Q,b as g,$ as k,S as y,H as m,a0 as ee,a1 as re,a2 as ae,a3 as se,g as b,v as ne,a4 as te,a5 as ie,a6 as C,a7 as fe,N as ue,a8 as le,a9 as ce,aa as j,f as F,ab as oe,ac as E,I as Y,ad as _e,ae as de}from"./utils.F7Ud3tqr.js";import{p as pe}from"./index-client.DDb0GLON.js";import{e as ve}from"./disclose-version.CbQWKql7.js";function Ie(e,r,s=!1){P&&M();var a=e,n=null,t=null,l=X,I=s?Z:0,o=!1;const c=(u,f=!0)=>{o=!0,S(f,u)},S=(u,f)=>{if(l===(l=u))return;let _=!1;if(P){const v=a.data===V;!!l===v&&(a=z(),W(a),q(!1),_=!0)}l?(n?B(n):f&&(n=w(()=>f(a))),t&&O(t,()=>{t=null})):(t?B(t):f&&(t=w(()=>f(a))),n&&O(n,()=>{n=null})),_&&q(!0)};K(()=>{o=!1,r(c),o||S(null,null)},I),P&&(a=$)}function Re(e,r,s){P&&M();var a=e,n,t;K(()=>{n!==(n=r())&&(t&&(O(t),t=null),n&&(t=w(()=>s(a,n))))},Z),P&&(a=$)}function U(e,r){return e===r||(e==null?void 0:e[y])===r}function Te(e={},r,s,a){return J(()=>{var n,t;return Q(()=>{n=t,t=[],g(()=>{e!==s(...t)&&(r(e,...t),n&&U(s(...n),e)&&r(null,...n))})}),()=>{k(()=>{t&&U(s(...t),e)&&r(null,...t)})}}),e}const he={get(e,r){if(!e.exclude.includes(r))return e.props[r]},set(e,r){return!1},getOwnPropertyDescriptor(e,r){if(!e.exclude.includes(r)&&r in e.props)return{enumerable:!0,configurable:!0,value:e.props[r]}},has(e,r){return e.exclude.includes(r)?!1:r in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(r=>!e.exclude.includes(r))}};function Ae(e,r,s){return new Proxy({props:e,exclude:r},he)}const be={get(e,r){let s=e.props.length;for(;s--;){let a=e.props[s];if(E(a)&&(a=a()),typeof a=="object"&&a!==null&&r in a)return a[r]}},set(e,r,s){let a=e.props.length;for(;a--;){let n=e.props[a];E(n)&&(n=n());const t=m(n,r);if(t&&t.set)return t.set(s),!0}return!1},getOwnPropertyDescriptor(e,r){let s=e.props.length;for(;s--;){let a=e.props[s];if(E(a)&&(a=a()),typeof a=="object"&&a!==null&&r in a){const n=m(a,r);return n&&!n.configurable&&(n.configurable=!0),n}}},has(e,r){if(r===y||r===j)return!1;for(let s of e.props)if(E(s)&&(s=s()),s!=null&&r in s)return!0;return!1},ownKeys(e){const r=[];for(let s of e.props){E(s)&&(s=s());for(const a in s)r.includes(a)||r.push(a)}return r}};function we(...e){return new Proxy({props:e},be)}function H(e){for(var r=Y,s=Y;r!==null&&!(r.f&(te|ie));)r=r.parent;try{return C(r),e()}finally{C(s)}}function Oe(e,r,s,a){var L;var n=(s&fe)!==0,t=!ue||(s&le)!==0,l=(s&ce)!==0,I=(s&_e)!==0,o=!1,c;l?[c,o]=ve(()=>e[r]):c=e[r];var S=y in e||j in e,u=((L=m(e,r))==null?void 0:L.set)??(S&&l&&r in e?i=>e[r]=i:void 0),f=a,_=!0,v=!1,x=()=>(v=!0,_&&(_=!1,I?f=g(a):f=a),f);c===void 0&&a!==void 0&&(u&&t&&ee(),c=x(),u&&u(c));var d;if(t)d=()=>{var i=e[r];return i===void 0?x():(_=!0,v=!1,i)};else{var N=H(()=>(n?F:oe)(()=>e[r]));N.f|=re,d=()=>{var i=b(N);return i!==void 0&&(f=void 0),i===void 0?f:i}}if(!(s&ae))return d;if(u){var G=e.$$legacy;return function(i,p){return arguments.length>0?((!t||!p||G||o)&&u(p?d():i),i):d()}}var R=!1,D=!1,T=de(c),h=H(()=>F(()=>{var i=d(),p=b(T);return R?(R=!1,D=!0,p):(D=!1,T.v=i)}));return n||(h.equals=se),function(i,p){if(arguments.length>0){const A=p?b(h):t&&l?pe(i):i;return h.equals(A)||(R=!0,ne(T,A),v&&f!==void 0&&(f=A),g(()=>b(h))),i}return b(h)}}export{Te as b,Re as c,Ie as i,Oe as p,Ae as r,we as s};
