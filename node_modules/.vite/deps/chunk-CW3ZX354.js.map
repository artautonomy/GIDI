{
  "version": 3,
  "sources": ["../../three/examples/jsm/loaders/HDRCubeTextureLoader.js"],
  "sourcesContent": ["import {\r\n\tCubeTexture,\r\n\tDataTexture,\r\n\tFileLoader,\r\n\tFloatType,\r\n\tHalfFloatType,\r\n\tLinearFilter,\r\n\tLinearSRGBColorSpace,\r\n\tLoader\r\n} from 'three';\r\nimport { RGBELoader } from '../loaders/RGBELoader.js';\r\n\r\nclass HDRCubeTextureLoader extends Loader {\r\n\r\n\tconstructor( manager ) {\r\n\r\n\t\tsuper( manager );\r\n\r\n\t\tthis.hdrLoader = new RGBELoader();\r\n\t\tthis.type = HalfFloatType;\r\n\r\n\t}\r\n\r\n\tload( urls, onLoad, onProgress, onError ) {\r\n\r\n\t\tconst texture = new CubeTexture();\r\n\r\n\t\ttexture.type = this.type;\r\n\r\n\t\tswitch ( texture.type ) {\r\n\r\n\t\t\tcase FloatType:\r\n\r\n\t\t\t\ttexture.colorSpace = LinearSRGBColorSpace;\r\n\t\t\t\ttexture.minFilter = LinearFilter;\r\n\t\t\t\ttexture.magFilter = LinearFilter;\r\n\t\t\t\ttexture.generateMipmaps = false;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase HalfFloatType:\r\n\r\n\t\t\t\ttexture.colorSpace = LinearSRGBColorSpace;\r\n\t\t\t\ttexture.minFilter = LinearFilter;\r\n\t\t\t\ttexture.magFilter = LinearFilter;\r\n\t\t\t\ttexture.generateMipmaps = false;\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tconst scope = this;\r\n\r\n\t\tlet loaded = 0;\r\n\r\n\t\tfunction loadHDRData( i, onLoad, onProgress, onError ) {\r\n\r\n\t\t\tnew FileLoader( scope.manager )\r\n\t\t\t\t.setPath( scope.path )\r\n\t\t\t\t.setResponseType( 'arraybuffer' )\r\n\t\t\t\t.setWithCredentials( scope.withCredentials )\r\n\t\t\t\t.load( urls[ i ], function ( buffer ) {\r\n\r\n\t\t\t\t\tloaded ++;\r\n\r\n\t\t\t\t\tconst texData = scope.hdrLoader.parse( buffer );\r\n\r\n\t\t\t\t\tif ( ! texData ) return;\r\n\r\n\t\t\t\t\tif ( texData.data !== undefined ) {\r\n\r\n\t\t\t\t\t\tconst dataTexture = new DataTexture( texData.data, texData.width, texData.height );\r\n\r\n\t\t\t\t\t\tdataTexture.type = texture.type;\r\n\t\t\t\t\t\tdataTexture.colorSpace = texture.colorSpace;\r\n\t\t\t\t\t\tdataTexture.format = texture.format;\r\n\t\t\t\t\t\tdataTexture.minFilter = texture.minFilter;\r\n\t\t\t\t\t\tdataTexture.magFilter = texture.magFilter;\r\n\t\t\t\t\t\tdataTexture.generateMipmaps = texture.generateMipmaps;\r\n\r\n\t\t\t\t\t\ttexture.images[ i ] = dataTexture;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( loaded === 6 ) {\r\n\r\n\t\t\t\t\t\ttexture.needsUpdate = true;\r\n\t\t\t\t\t\tif ( onLoad ) onLoad( texture );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}, onProgress, onError );\r\n\r\n\t\t}\r\n\r\n\t\tfor ( let i = 0; i < urls.length; i ++ ) {\r\n\r\n\t\t\tloadHDRData( i, onLoad, onProgress, onError );\r\n\r\n\t\t}\r\n\r\n\t\treturn texture;\r\n\r\n\t}\r\n\r\n\tsetDataType( value ) {\r\n\r\n\t\tthis.type = value;\r\n\t\tthis.hdrLoader.setDataType( value );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n}\r\n\r\nexport { HDRCubeTextureLoader };\r\n"],
  "mappings": ";;;;;;;;;;;;;;;AAYA,IAAM,uBAAN,cAAmC,OAAO;AAAA,EAEzC,YAAa,SAAU;AAEtB,UAAO,OAAQ;AAEf,SAAK,YAAY,IAAI,WAAW;AAChC,SAAK,OAAO;AAAA,EAEb;AAAA,EAEA,KAAM,MAAM,QAAQ,YAAY,SAAU;AAEzC,UAAM,UAAU,IAAI,YAAY;AAEhC,YAAQ,OAAO,KAAK;AAEpB,YAAS,QAAQ,MAAO;AAAA,MAEvB,KAAK;AAEJ,gBAAQ,aAAa;AACrB,gBAAQ,YAAY;AACpB,gBAAQ,YAAY;AACpB,gBAAQ,kBAAkB;AAC1B;AAAA,MAED,KAAK;AAEJ,gBAAQ,aAAa;AACrB,gBAAQ,YAAY;AACpB,gBAAQ,YAAY;AACpB,gBAAQ,kBAAkB;AAC1B;AAAA,IAEF;AAEA,UAAM,QAAQ;AAEd,QAAI,SAAS;AAEb,aAAS,YAAa,GAAGA,SAAQC,aAAYC,UAAU;AAEtD,UAAI,WAAY,MAAM,OAAQ,EAC5B,QAAS,MAAM,IAAK,EACpB,gBAAiB,aAAc,EAC/B,mBAAoB,MAAM,eAAgB,EAC1C,KAAM,KAAM,CAAE,GAAG,SAAW,QAAS;AAErC;AAEA,cAAM,UAAU,MAAM,UAAU,MAAO,MAAO;AAE9C,YAAK,CAAE,QAAU;AAEjB,YAAK,QAAQ,SAAS,QAAY;AAEjC,gBAAM,cAAc,IAAI,YAAa,QAAQ,MAAM,QAAQ,OAAO,QAAQ,MAAO;AAEjF,sBAAY,OAAO,QAAQ;AAC3B,sBAAY,aAAa,QAAQ;AACjC,sBAAY,SAAS,QAAQ;AAC7B,sBAAY,YAAY,QAAQ;AAChC,sBAAY,YAAY,QAAQ;AAChC,sBAAY,kBAAkB,QAAQ;AAEtC,kBAAQ,OAAQ,CAAE,IAAI;AAAA,QAEvB;AAEA,YAAK,WAAW,GAAI;AAEnB,kBAAQ,cAAc;AACtB,cAAKF,QAAS,CAAAA,QAAQ,OAAQ;AAAA,QAE/B;AAAA,MAED,GAAGC,aAAYC,QAAQ;AAAA,IAEzB;AAEA,aAAU,IAAI,GAAG,IAAI,KAAK,QAAQ,KAAO;AAExC,kBAAa,GAAG,QAAQ,YAAY,OAAQ;AAAA,IAE7C;AAEA,WAAO;AAAA,EAER;AAAA,EAEA,YAAa,OAAQ;AAEpB,SAAK,OAAO;AACZ,SAAK,UAAU,YAAa,KAAM;AAElC,WAAO;AAAA,EAER;AAED;",
  "names": ["onLoad", "onProgress", "onError"]
}
