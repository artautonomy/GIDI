{
  "version": 3,
  "sources": ["../../svelte/src/animate/index.js"],
  "sourcesContent": ["/** @import { FlipParams, AnimationConfig } from './public.js' */\nimport { cubicOut } from '../easing/index.js';\n\n/**\n * The flip function calculates the start and end position of an element and animates between them, translating the x and y values.\n * `flip` stands for [First, Last, Invert, Play](https://aerotwist.com/blog/flip-your-animations/).\n *\n * @param {Element} node\n * @param {{ from: DOMRect; to: DOMRect }} fromTo\n * @param {FlipParams} params\n * @returns {AnimationConfig}\n */\nexport function flip(node, { from, to }, params = {}) {\n\tvar style = getComputedStyle(node);\n\tvar zoom = get_zoom(node); // https://drafts.csswg.org/css-viewport/#effective-zoom\n\n\tvar transform = style.transform === 'none' ? '' : style.transform;\n\tvar [ox, oy] = style.transformOrigin.split(' ').map(parseFloat);\n\tvar dsx = from.width / to.width;\n\tvar dsy = from.height / to.height;\n\n\tvar dx = (from.left + dsx * ox - (to.left + ox)) / zoom;\n\tvar dy = (from.top + dsy * oy - (to.top + oy)) / zoom;\n\tvar { delay = 0, duration = (d) => Math.sqrt(d) * 120, easing = cubicOut } = params;\n\n\treturn {\n\t\tdelay,\n\t\tduration: typeof duration === 'function' ? duration(Math.sqrt(dx * dx + dy * dy)) : duration,\n\t\teasing,\n\t\tcss: (t, u) => {\n\t\t\tvar x = u * dx;\n\t\t\tvar y = u * dy;\n\t\t\tvar sx = t + u * dsx;\n\t\t\tvar sy = t + u * dsy;\n\t\t\treturn `transform: ${transform} scale(${sx}, ${sy}) translate(${x}px, ${y}px);`;\n\t\t}\n\t};\n}\n\n/**\n * @param {Element} element\n */\nfunction get_zoom(element) {\n\tif ('currentCSSZoom' in element) {\n\t\treturn /** @type {number} */ (element.currentCSSZoom);\n\t}\n\n\t/** @type {Element | null} */\n\tvar current = element;\n\tvar zoom = 1;\n\n\twhile (current !== null) {\n\t\tzoom *= +getComputedStyle(current).zoom;\n\t\tcurrent = /** @type {Element | null} */ (current.parentElement);\n\t}\n\n\treturn zoom;\n}\n"],
  "mappings": ";;;;;;AAYO,SAAS,KAAK,MAAM,EAAE,MAAM,GAAG,GAAG,SAAS,CAAC,GAAG;AACrD,MAAI,QAAQ,iBAAiB,IAAI;AACjC,MAAI,OAAO,SAAS,IAAI;AAExB,MAAI,YAAY,MAAM,cAAc,SAAS,KAAK,MAAM;AACxD,MAAI,CAAC,IAAI,EAAE,IAAI,MAAM,gBAAgB,MAAM,GAAG,EAAE,IAAI,UAAU;AAC9D,MAAI,MAAM,KAAK,QAAQ,GAAG;AAC1B,MAAI,MAAM,KAAK,SAAS,GAAG;AAE3B,MAAI,MAAM,KAAK,OAAO,MAAM,MAAM,GAAG,OAAO,OAAO;AACnD,MAAI,MAAM,KAAK,MAAM,MAAM,MAAM,GAAG,MAAM,OAAO;AACjD,MAAI,EAAE,QAAQ,GAAG,WAAW,CAAC,MAAM,KAAK,KAAK,CAAC,IAAI,KAAK,SAAS,SAAS,IAAI;AAE7E,SAAO;AAAA,IACN;AAAA,IACA,UAAU,OAAO,aAAa,aAAa,SAAS,KAAK,KAAK,KAAK,KAAK,KAAK,EAAE,CAAC,IAAI;AAAA,IACpF;AAAA,IACA,KAAK,CAAC,GAAG,MAAM;AACd,UAAI,IAAI,IAAI;AACZ,UAAI,IAAI,IAAI;AACZ,UAAI,KAAK,IAAI,IAAI;AACjB,UAAI,KAAK,IAAI,IAAI;AACjB,aAAO,cAAc,SAAS,UAAU,EAAE,KAAK,EAAE,eAAe,CAAC,OAAO,CAAC;AAAA,IAC1E;AAAA,EACD;AACD;AAKA,SAAS,SAAS,SAAS;AAC1B,MAAI,oBAAoB,SAAS;AAChC;AAAA;AAAA,MAA8B,QAAQ;AAAA;AAAA,EACvC;AAGA,MAAI,UAAU;AACd,MAAI,OAAO;AAEX,SAAO,YAAY,MAAM;AACxB,YAAQ,CAAC,iBAAiB,OAAO,EAAE;AACnC;AAAA,IAAyC,QAAQ;AAAA,EAClD;AAEA,SAAO;AACR;",
  "names": []
}
