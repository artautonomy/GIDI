{
  "version": 3,
  "sources": ["../../svelte/src/animate/index.js"],
  "sourcesContent": ["/** @import { FlipParams, AnimationConfig } from './public.js' */\r\nimport { cubicOut } from '../easing/index.js';\r\n\r\n/**\r\n * The flip function calculates the start and end position of an element and animates between them, translating the x and y values.\r\n * `flip` stands for [First, Last, Invert, Play](https://aerotwist.com/blog/flip-your-animations/).\r\n *\r\n * @param {Element} node\r\n * @param {{ from: DOMRect; to: DOMRect }} fromTo\r\n * @param {FlipParams} params\r\n * @returns {AnimationConfig}\r\n */\r\nexport function flip(node, { from, to }, params = {}) {\r\n\tvar style = getComputedStyle(node);\r\n\tvar zoom = get_zoom(node); // https://drafts.csswg.org/css-viewport/#effective-zoom\r\n\r\n\tvar transform = style.transform === 'none' ? '' : style.transform;\r\n\tvar [ox, oy] = style.transformOrigin.split(' ').map(parseFloat);\r\n\tvar dsx = from.width / to.width;\r\n\tvar dsy = from.height / to.height;\r\n\r\n\tvar dx = (from.left + dsx * ox - (to.left + ox)) / zoom;\r\n\tvar dy = (from.top + dsy * oy - (to.top + oy)) / zoom;\r\n\tvar { delay = 0, duration = (d) => Math.sqrt(d) * 120, easing = cubicOut } = params;\r\n\r\n\treturn {\r\n\t\tdelay,\r\n\t\tduration: typeof duration === 'function' ? duration(Math.sqrt(dx * dx + dy * dy)) : duration,\r\n\t\teasing,\r\n\t\tcss: (t, u) => {\r\n\t\t\tvar x = u * dx;\r\n\t\t\tvar y = u * dy;\r\n\t\t\tvar sx = t + u * dsx;\r\n\t\t\tvar sy = t + u * dsy;\r\n\t\t\treturn `transform: ${transform} scale(${sx}, ${sy}) translate(${x}px, ${y}px);`;\r\n\t\t}\r\n\t};\r\n}\r\n\r\n/**\r\n * @param {Element} element\r\n */\r\nfunction get_zoom(element) {\r\n\tif ('currentCSSZoom' in element) {\r\n\t\treturn /** @type {number} */ (element.currentCSSZoom);\r\n\t}\r\n\r\n\t/** @type {Element | null} */\r\n\tvar current = element;\r\n\tvar zoom = 1;\r\n\r\n\twhile (current !== null) {\r\n\t\tzoom *= +getComputedStyle(current).zoom;\r\n\t\tcurrent = /** @type {Element | null} */ (current.parentElement);\r\n\t}\r\n\r\n\treturn zoom;\r\n}\r\n"],
  "mappings": ";;;;;;AAYO,SAAS,KAAK,MAAM,EAAE,MAAM,GAAG,GAAG,SAAS,CAAC,GAAG;AACrD,MAAI,QAAQ,iBAAiB,IAAI;AACjC,MAAI,OAAO,SAAS,IAAI;AAExB,MAAI,YAAY,MAAM,cAAc,SAAS,KAAK,MAAM;AACxD,MAAI,CAAC,IAAI,EAAE,IAAI,MAAM,gBAAgB,MAAM,GAAG,EAAE,IAAI,UAAU;AAC9D,MAAI,MAAM,KAAK,QAAQ,GAAG;AAC1B,MAAI,MAAM,KAAK,SAAS,GAAG;AAE3B,MAAI,MAAM,KAAK,OAAO,MAAM,MAAM,GAAG,OAAO,OAAO;AACnD,MAAI,MAAM,KAAK,MAAM,MAAM,MAAM,GAAG,MAAM,OAAO;AACjD,MAAI,EAAE,QAAQ,GAAG,WAAW,CAAC,MAAM,KAAK,KAAK,CAAC,IAAI,KAAK,SAAS,SAAS,IAAI;AAE7E,SAAO;AAAA,IACN;AAAA,IACA,UAAU,OAAO,aAAa,aAAa,SAAS,KAAK,KAAK,KAAK,KAAK,KAAK,EAAE,CAAC,IAAI;AAAA,IACpF;AAAA,IACA,KAAK,CAAC,GAAG,MAAM;AACd,UAAI,IAAI,IAAI;AACZ,UAAI,IAAI,IAAI;AACZ,UAAI,KAAK,IAAI,IAAI;AACjB,UAAI,KAAK,IAAI,IAAI;AACjB,aAAO,cAAc,SAAS,UAAU,EAAE,KAAK,EAAE,eAAe,CAAC,OAAO,CAAC;AAAA,IAC1E;AAAA,EACD;AACD;AAKA,SAAS,SAAS,SAAS;AAC1B,MAAI,oBAAoB,SAAS;AAChC;AAAA;AAAA,MAA8B,QAAQ;AAAA;AAAA,EACvC;AAGA,MAAI,UAAU;AACd,MAAI,OAAO;AAEX,SAAO,YAAY,MAAM;AACxB,YAAQ,CAAC,iBAAiB,OAAO,EAAE;AACnC;AAAA,IAAyC,QAAQ;AAAA,EAClD;AAEA,SAAO;AACR;",
  "names": []
}
